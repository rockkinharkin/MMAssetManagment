!function(p){p.fn.llmsCollapsible=function(){return this.on("click",".llms-collapsible-header",function(){var e=p(this).closest(".llms-collapsible"),t=e.siblings(".llms-collapsible");e.toggleClass("opened"),e.find(".llms-collapsible-body").slideToggle(400),t.each(function(){p(this).removeClass("opened"),p(this).find(".llms-collapsible-body").slideUp(400)})}),this},window.llms=window.llms||{};window.llms.metaboxes=new function(){this.repeaters={metaboxes:this,$repeaters:null,init:function(){var e=this;e.$repeaters=p(".llms-mb-list.repeater"),e.$repeaters.length&&(LLMS.wait_for(function(){return"undefined"!=typeof tinyMCE},function(){e.load(),e.bind()}),p('#post input[type="submit"]').on("click",function(){p(this).attr("data-llms-clicked","yes")}),p("#post").on("submit",e.handle_submit))},bind:function(){var l=this;l.$repeaters.each(function(){var a=p(this),n=a.find(".llms-repeater-rows"),e=a.find(".llms-repeater-model");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,e.find(".llms-mb-list.editor textarea").attr("id")),a.find(".llms-repeater-new-btn").on("click",function(){l.add_row(a,null,!0)}),n.sortable({handle:".llms-drag-handle",items:".llms-repeater-row",start:function(e,t){n.addClass("dragging")},stop:function(e,t){n.removeClass("dragging"),t.item.find("textarea.wp-editor-area").each(function(){var e=p(this).attr("id");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,e),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,e)}),l.save(a)}}),a.on("click",".llms-repeater-remove",function(e){e.stopPropagation();var t=p(this).closest(".llms-repeater-row");window.confirm(LLMS.l10n.translate("Are you sure you want to delete this row? This cannot be undone."))&&(t.remove(),setTimeout(function(){l.save(a)},1))})})},add_row:function(e,t,a){var n=this,l=e.find(".llms-repeater-rows"),i=e.find(".llms-repeater-model").find(".llms-repeater-row").clone(),s=e.find(".llms-repeater-row").length,r=n.reindex(i,s);t&&p.each(t,function(e,t){var a=i.find('[name^="'+e+'"]');a.hasClass("llms-select2-student")?(p.each(t,function(e,t){a.append('<option value="'+t.key+'" selected="selected">'+t.title+"</option>")}),a.trigger("change")):a.val(t)}),setTimeout(function(){n.bind_row(i)},1),l.append(i),a&&i.find(".llms-collapsible-header").trigger("click"),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,r),e.trigger("llms-new-repeater-row",{$row:i,data:t})},bind_row:function(e){this.bind_row_header(e),e.find(".llms-select2").llmsSelect2({width:"100%"}),e.find(".llms-select2-student").llmsStudentsSelect2(),this.metaboxes.bind_datepickers(e.find(".llms-datepicker")),this.metaboxes.bind_controllers(e.find("[data-is-controller]"))},bind_row_header:function(e){var t=e.find(".llms-repeater-title"),a=e.find(".llms-collapsible-header-title-field");t.attr("data-default",t.text()),a.on("keyup focusout blur",function(){var e=p(this).val();e||(e=t.attr("data-default")),t.text(e)}).trigger("keyup")},handle_submit:function(e){e.preventDefault();var t=p('#post [data-llms-clicked="yes"]'),a=t.parent().find(".spinner");p('#post input[type="submit"]').addClass("disabled").attr("disabled","disabled"),a.addClass("is-active");var n,l=window.llms.metaboxes.repeaters,i=0;l.$repeaters.each(function(){l.save(p(this))}),n=setInterval(function(){59<=i||!p(".llms-mb-list.repeater.processing").length?(clearInterval(n),p("#post").off("submit",this.handle_submit),a.removeClass("is-active"),t.removeClass("disabled").removeAttr("disabled").trigger("click")):i++},1e3)},load:function(){var n=this;n.$repeaters.each(function(){var a=p(this);a.hasClass("is-loaded")||a.hasClass("processing")||n.store(a,"load",function(e){a.addClass("is-loaded"),p.each(e.data,function(e,t){n.add_row(a,t,!1)}),a.find(".llms-repeater-rows .llms-repeater-row").each(function(){n.bind_row(p(this))})})})},reindex:function(e,a){var n=e.attr("data-row-order"),t=e.find(".llms-mb-list.editor textarea");function l(e,t){e.each(function(){var e=p(this).attr(t);p(this).attr(t,e.replace(n,a))})}return tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,t.attr("id")),e.attr("data-row-order",a),l(e,"data-row-order"),l(e.find("button.insert-media"),"data-editor"),l(e.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"id"),l(e.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"name"),l(e.find("[data-controller]"),"data-controller"),l(e.find("[data-controller]"),"data-controller"),l(e.find("button.wp-switch-editor"),"data-wp-editor-id"),l(e.find("button.wp-switch-editor"),"id"),l(e.find(".wp-editor-tools"),"id"),l(e.find(".wp-editor-container"),"id"),t.attr("id")},save:function(e){e.trigger("llms-repeater-before-save",{$el:e}),this.store(e,"save")},serialize:function(e){var a=[];return e.find(".llms-repeater-rows .llms-repeater-row").each(function(){var t={};p(this).find('input[name^="_llms"], select[name^="_llms"]').each(function(){t[p(this).attr("name")]=p(this).val()}),p(this).find('textarea[name^="_llms"]').each(function(){var e=p(this).attr("name");tinyMCE.editors[e]?t[e]=tinyMCE.editors[e].getContent():t[e]=p(this).val()}),a.push(t)}),a},store:function(t,e,a){a=a||function(){};var n={action:t.find(".llms-repeater-field-handler").val(),store_action:e};"save"===e&&(n.rows=this.serialize(t)),LLMS.Ajax.call({data:n,beforeSend:function(){t.addClass("processing"),LLMS.Spinner.start(t)},success:function(e){a(e),LLMS.Spinner.stop(t),t.removeClass("processing")}})}},this.repeaters.init(),this.init=function(){var n=this;p(".llms-select2-post").each(function(){n.post_select(p(this))}),p(".llms-collapsible-group").llmsCollapsible(),this.bind_tabs();var e=[{selector:p(".llms-datepicker"),func:"bind_datepickers"},{selector:p(".llms-select2"),func:function(e){e.llmsSelect2({width:"100%"})}},{selector:p(".llms-select2-student"),func:function(e){e.llmsStudentsSelect2()}},{selector:p('input[type="checkbox"][data-controls]'),func:"bind_cb_controllers"},{selector:p("[data-is-controller]"),func:"bind_controllers"},{selector:p(".llms-table"),func:"bind_tables"},{selector:p(".llms-merge-code-wrapper"),func:"bind_merge_code_buttons"},{selector:p("a.llms-editable"),func:"bind_editables"}];if(p.each(e,function(e,t){if(t.selector.length){var a=t.selector.filter(function(){return 0===p(this).closest(".llms-repeater-model").length});"string"==typeof t.func?n[t.func](a):"function"==typeof t.func&&t.func(a)}}),window.llms.post.post_type){var t="bind_"+window.llms.post.post_type;"function"==typeof this[t]&&this[t]()}},this.bind_cb_controllers=function(e){(e=e||p('input[type="checkbox"][data-controls]')).each(function(){var e=p(this),t=p(e.attr("data-controls")).closest(".llms-mb-list");e.on("change",function(){p(this).is(":checked")?t.slideDown(200):t.slideUp(200)}),e.trigger("change")})},this.bind_controllers=function(e){(e=e||p("[data-is-controller]")).each(function(){var a,e=p(this),t=p('[data-controller="#'+e.attr("id")+'"]');e.on("change",function(){a="checkbox"===e.attr("type")?e.is(":checked")?e.val():"false":e.val(),t.each(function(){var e=p(this).attr("data-controller-value"),t=[];-1!==e.indexOf(",")?t=e.split(","):t.push(e),-1!==t.indexOf(a)?p(this).slideDown(200):p(this).slideUp(200)})}),e.trigger("change")})},this.bind_datepicker=function(e){var t=e.attr("data-format")||"mm/dd/yy",a=e.attr("data-max-date")||null,n=e.attr("data-min-date")||null;e.datepicker({dateFormat:t,maxDate:a,minDate:n})},this.bind_datepickers=function(e){var t=this;(e=e||p(".llms-datepicker")).each(function(){t.bind_datepicker(p(this))})},this.bind_editables=function(){var f=this;p("a.llms-editable").on("click",function(e){e.preventDefault();var t,a=p(this);t=a.attr("data-fields")?p(a.attr("data-fields")):a.closest(".llms-metabox-section").find("[data-llms-editable]"),a.remove(),t.each(function(){!function(e){var t,a=e.find("label").clone(),n=e.attr("data-llms-editable"),l=e.attr("data-llms-editable-type"),i=e.attr("data-llms-editable-required")||"no",s=e.attr("data-llms-editable-value");if(i="yes"===i?' required="required"':"","select"===l){var r,o=JSON.parse(e.attr("data-llms-editable-options"));for(var d in t=p('<select name="'+n+'"'+i+" />"),o)r=s===d?' selected="selected"':"",t.append('<option value="'+d+'"'+r+">"+o[d]+"</option>")}else if("datetime"===l){t=p('<div class="llms-datetime-field" />'),s=JSON.parse(s);var c=e.attr("data-llms-editable-date-format")||"",m=e.attr("data-llms-editable-date-min")||"",u=e.attr("data-llms-editable-date-max")||"";$picker=p('<input class="llms-date-input llms-datepicker" data-format="'+c+'" data-max-date="'+u+'" data-min-date="'+m+'" name="'+n+'[date]" type="text" value="'+s.date+'">'),f.bind_datepicker($picker),t.append($picker),t.append("<em>@</em>"),t.append('<input class="llms-time-input" max="23" min="0" name="'+n+'[hour]" type="number" value="'+s.hour+'">'),t.append("<em>:</em>"),t.append('<input class="llms-time-input" max="59" min="0" name="'+n+'[minute]" type="number" value="'+s.minute+'">')}else t=p('<input name="'+n+'" type="'+l+'" value="'+s+'"'+i+">");e.empty().append(a).append(t)}(p(this))})})},this.bind_llms_engagement=function(){var l=this;p("#_llms_engagement_type").on("change",function(){p("#_llms_engagement").trigger("llms-engagement-type-change",p(this).val())}),p("#_llms_engagement").on("llms-engagement-type-change",function(e,t){var a=p(this);switch(t){case"achievement":case"certificate":case"email":var n="llms_"+t;a.val(null).attr("data-post-type",n).trigger("change"),l.post_select(a);break;default:a.trigger("llms-engagement-type-change-external",t)}})},this.bind_llms_membership=function(){p('a[href="#llms-course-remove"]').on("click",function(e){e.preventDefault();var t=p(this),a=t.closest("tr"),n=t.closest(".llms-mb-list");LLMS.Spinner.start(n),window.LLMS.Ajax.call({data:{action:"membership_remove_auto_enroll_course",course_id:t.attr("data-id")},beforeSend:function(){n.find("p.error").remove()},success:function(e){e.success?(a.fadeOut(200),setTimeout(function(){a.remove()},400)):n.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(n)}})}),p('a[href="#llms-course-bulk-enroll"]').on("click",function(e){e.preventDefault();var t=p(this),a=(t.closest("tr"),t.closest(".llms-mb-list"));window.confirm(LLMS.l10n.translate("Click okay to enroll all active members into the selected course. Enrollment will take place in the background and you may leave your site after confirmation. This action cannot be undone!"))&&(LLMS.Spinner.start(a),window.LLMS.Ajax.call({data:{action:"bulk_enroll_membership_into_course",course_id:t.attr("data-id")},beforeSend:function(){a.find("p.error").remove()},success:function(e){e.success?t.replaceWith('<strong style="float:right;">'+e.data.message+"&nbsp;&nbsp;</strong>"):a.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(a)}}))})},this.bind_llms_order=function(){p('button[name="llms-refund-toggle"]').on("click",function(){var e=p(this),t=e.closest("tr"),a=t.attr("data-transaction-id"),n=e.attr("data-refundable"),l="1"===e.attr("data-gateway-supports"),i=e.attr("data-gateway"),s=p("#llms-txn-refund-model .llms-txn-refund-form").clone(),r=s.find(".gateway-btn");"remove"!==e.attr("data-action")?(e.text(LLMS.l10n.translate("Cancel")),e.attr("data-action","remove"),s.find("input").removeAttr("disabled"),s.find('input[name="llms_refund_amount"]').attr("max",n),s.find('input[name="llms_refund_txn_id"]').val(a),l&&(r.find(".llms-gateway-title").text(i),r.show()),t.after(s)):(e.text(LLMS.l10n.translate("Refund")),e.attr("data-action",""),t.next("tr").remove())}),p('button[name="llms-manual-txn-toggle"]').on("click",function(){var e=p(this),t=e.closest("tr"),a=p("#llms-manual-txn-model .llms-manual-txn-form").clone();"remove"!==e.attr("data-action")?(e.text(LLMS.l10n.translate("Cancel")),e.attr("data-action","remove"),a.find("input").removeAttr("disabled"),t.after(a)):(e.text(LLMS.l10n.translate("Record a Manual Payment")),e.attr("data-action",""),t.next("tr").remove())}),p(".llms-metabox").one("focus",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){p(this).attr("data-original-value")||p(this).attr("data-original-value",p(this).val())}),p(".llms-metabox").on("change",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){var e=p(this),t=e.val(),a=JSON.parse(e.closest(".llms-metabox-field").attr("data-gateway-fields"))[t];for(var n in a){var l=p('input[name="'+a[n].name+'"]'),i=l.closest(".llms-metabox-field");l.attr("value",""),a[n].enabled?(i.show(),l.attr("required","required"),t===e.attr("data-original-value")&&l.val(i.attr("data-llms-editable-value"))):(l.removeAttr("required"),i.hide())}})},this.bind_merge_code_buttons=function(e){(e=e||p(".llms-merge-code-wrapper")).find(".llms-merge-code-button").on("click",function(){p(this).next(".llms-merge-codes").toggleClass("active")}),e.find(".llms-merge-codes li").on("click",function(){var e=p(this),t=e.closest(".llms-merge-codes"),a=t.attr("data-target"),n=e.attr("data-code");if(-1===a.indexOf("#")){var l=window.tinymce.editors[a];l?l.insertContent(n):alert(LLMS.l10n.translate("Copy this code and paste it into the desired area")+": "+n)}else p(a).val(p(a).val()+n);t.removeClass("active")})},this.bind_tabs=function(){p(".llms-nav-tab-wrapper .tabs li").on("click",function(){var e=p(this),t=e.closest(".llms-mb-container"),a=e.attr("data-tab");e.siblings().removeClass("llms-active"),t.find(".tab-content").removeClass("llms-active"),e.addClass("llms-active"),p("#"+a).addClass("llms-active")})},this.post_select=function(e){var t="multiple"===e.attr("multiple");if(e.llmsPostsSelect2({width:t?"100%":"65%"}),!t&&!e.attr("data-no-view-button")){var a=LLMS.l10n.translate("View"),n=p('<a class="llms-button-secondary small" style="margin-left:5px;" target="_blank" href="#">'+a+' <i class="fa fa-external-link" aria-hidden="true"></i></a>');e.next(".select2").after(n),e.on("change",function(){var e=p(this).val();e?n.attr("href","/?p="+e).show():n.hide()}).trigger("change")}},this.bind_tables=function(){p('.llms-table button[name="llms-expand-table"]').on("click",function(){var e=p(this),t=e.closest(".llms-table");if(e.attr("data-text")){var a=e.text();e.text(e.attr("data-text")),e.attr("data-text",a)}t.find(".expandable").each(function(){p(this).hasClass("closed")?p(this).addClass("opened").removeClass("closed"):p(this).addClass("closed").removeClass("opened")})})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveGVzLmpzIl0sIm5hbWVzIjpbIiQiLCJmbiIsImxsbXNDb2xsYXBzaWJsZSIsInRoaXMiLCJvbiIsIiRwYXJlbnQiLCJjbG9zZXN0IiwiJHNpYmxpbmdzIiwic2libGluZ3MiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsImVhY2giLCJyZW1vdmVDbGFzcyIsInNsaWRlVXAiLCJ3aW5kb3ciLCJsbG1zIiwibWV0YWJveGVzIiwicmVwZWF0ZXJzIiwiJHJlcGVhdGVycyIsImluaXQiLCJzZWxmIiwibGVuZ3RoIiwiTExNUyIsIndhaXRfZm9yIiwidGlueU1DRSIsImxvYWQiLCJiaW5kIiwiYXR0ciIsImhhbmRsZV9zdWJtaXQiLCIkcmVwZWF0ZXIiLCIkcm93cyIsIiRtb2RlbCIsIkVkaXRvck1hbmFnZXIiLCJleGVjQ29tbWFuZCIsImFkZF9yb3ciLCJzb3J0YWJsZSIsImhhbmRsZSIsIml0ZW1zIiwic3RhcnQiLCJldmVudCIsInVpIiwiYWRkQ2xhc3MiLCJzdG9wIiwiaXRlbSIsImVkX2lkIiwic2F2ZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCIkcm93IiwiY29uZmlybSIsImwxMG4iLCJ0cmFuc2xhdGUiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwiZGF0YSIsImV4cGFuZCIsImNsb25lIiwibmV3X2luZGV4IiwiZWRpdG9yIiwicmVpbmRleCIsImtleSIsInZhbCIsIiRmaWVsZCIsImhhc0NsYXNzIiwiaSIsImFwcGVuZCIsInRpdGxlIiwidHJpZ2dlciIsImJpbmRfcm93IiwiYmluZF9yb3dfaGVhZGVyIiwibGxtc1NlbGVjdDIiLCJ3aWR0aCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJiaW5kX2RhdGVwaWNrZXJzIiwiYmluZF9jb250cm9sbGVycyIsIiR0aXRsZSIsInRleHQiLCJwcmV2ZW50RGVmYXVsdCIsIiRidG4iLCIkc3Bpbm5lciIsInBhcmVudCIsIndhaXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJvZmYiLCJyZW1vdmVBdHRyIiwic3RvcmUiLCJvYmoiLCJpbmRleCIsIm9sZF9pbmRleCIsIiRlZCIsInJlcGxhY2VfYXR0ciIsIiRlbCIsInN0ciIsInJlcGxhY2UiLCJzZXJpYWxpemUiLCJyb3dzIiwibmFtZSIsImVkaXRvcnMiLCJnZXRDb250ZW50IiwicHVzaCIsImFjdGlvbiIsImNiIiwic3RvcmVfYWN0aW9uIiwiQWpheCIsImNhbGwiLCJiZWZvcmVTZW5kIiwiU3Bpbm5lciIsInN1Y2Nlc3MiLCJyIiwicG9zdF9zZWxlY3QiLCJiaW5kX3RhYnMiLCJiaW5kaW5ncyIsInNlbGVjdG9yIiwiZnVuYyIsIiRzZWxlY3RvciIsInJlZHVjZWQiLCJmaWx0ZXIiLCJwb3N0IiwicG9zdF90eXBlIiwiYmluZF9jYl9jb250cm9sbGVycyIsIiRjb250cm9sbGVycyIsIiRjYiIsIiRjb250cm9sbGVkIiwiaXMiLCJzbGlkZURvd24iLCJwb3NzaWJsZSIsInZhbHMiLCJpbmRleE9mIiwic3BsaXQiLCJiaW5kX2RhdGVwaWNrZXIiLCJmb3JtYXQiLCJtYXhEYXRlIiwibWluRGF0ZSIsImRhdGVwaWNrZXIiLCJkYXRlRm9ybWF0IiwiJGRhdGVwaWNrZXJzIiwiYmluZF9lZGl0YWJsZXMiLCIkZmllbGRzIiwiJGlucHV0IiwiJGxhYmVsIiwidHlwZSIsInJlcXVpcmVkIiwic2VsZWN0ZWQiLCJvcHRpb25zIiwiSlNPTiIsInBhcnNlIiwibWluX2RhdGUiLCJtYXhfZGF0ZSIsIiRwaWNrZXIiLCJkYXRlIiwiaG91ciIsIm1pbnV0ZSIsImVtcHR5IiwibWFrZV9lZGl0YWJsZSIsImJpbmRfbGxtc19lbmdhZ2VtZW50IiwiZW5nYWdlbWVudF90eXBlIiwiJHNlbGVjdCIsImNwdCIsImJpbmRfbGxtc19tZW1iZXJzaGlwIiwiJGNvbnRhaW5lciIsImNvdXJzZV9pZCIsImZhZGVPdXQiLCJwcmVwZW5kIiwibWVzc2FnZSIsInJlcGxhY2VXaXRoIiwiYmluZF9sbG1zX29yZGVyIiwidHhuX2lkIiwicmVmdW5kYWJsZV9hbW91bnQiLCJnYXRld2F5X3N1cHBvcnRzIiwiZ2F0ZXdheV90aXRsZSIsIiRuZXdfcm93IiwiJGdhdGV3YXlfYnRuIiwic2hvdyIsImFmdGVyIiwibmV4dCIsIm9uZSIsImdhdGV3YXkiLCJnYXRld2F5X2RhdGEiLCJmaWVsZCIsIiR3cmFwIiwiZW5hYmxlZCIsImhpZGUiLCJiaW5kX21lcmdlX2NvZGVfYnV0dG9ucyIsIiR3cmFwcGVycyIsInRhcmdldCIsImNvZGUiLCJ0aW55bWNlIiwiaW5zZXJ0Q29udGVudCIsImFsZXJ0IiwiJG1ldGFib3giLCJ0YWJfaWQiLCJtdWx0aSIsImxsbXNQb3N0c1NlbGVjdDIiLCJtc2ciLCJpZCIsImJpbmRfdGFibGVzIiwiJHRhYmxlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FjQSxTQUFZQSxHQUVYQSxFQUFFQyxHQUFHQyxnQkFBa0IsV0FvQnRCLE9BaEJBQyxLQUFLQyxHQUFJLFFBQVMsMkJBQTRCLFdBRTdDLElBQUlDLEVBQVVMLEVBQUdHLE1BQU9HLFFBQVMscUJBQ2hDQyxFQUFZRixFQUFRRyxTQUFVLHFCQUUvQkgsRUFBUUksWUFBYSxVQUVyQkosRUFBUUssS0FBTSwwQkFBMkJDLFlBQWEsS0FFdERKLEVBQVVLLEtBQU0sV0FDZlosRUFBR0csTUFBT1UsWUFBYSxVQUN2QmIsRUFBR0csTUFBT08sS0FBTSwwQkFBMkJJLFFBQVMsU0FLL0NYLE1BSVJZLE9BQU9DLEtBQU9ELE9BQU9DLE1BQVEsR0FvcUM3QkQsT0FBT0MsS0FBS0MsVUFBWSxJQWxxQ1IsV0FVZmQsS0FBS2UsVUFBWSxDQU1oQkQsVUFBV2QsS0FNWGdCLFdBQVksS0FRWkMsS0FBTSxXQUVMLElBQUlDLEVBQU9sQixLQUVYa0IsRUFBS0YsV0FBYW5CLEVBQUcsMEJBRWhCcUIsRUFBS0YsV0FBV0csU0FHcEJDLEtBQUtDLFNBQVUsV0FDZCxNQUFTLG9CQUF1QkMsU0FDOUIsV0FDRkosRUFBS0ssT0FDTEwsRUFBS00sU0FLTjNCLEVBQUcsOEJBQStCSSxHQUFJLFFBQVMsV0FD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U3RKLFNBQVUsa0JBVzlCdkMsS0FBSzRHLFlBQWMsU0FBVWxCLEdBRTVCLElBQUlvRyxFQUFRLGFBQWVwRyxFQUFJakUsS0FBTSxZQU1yQyxHQUpBaUUsRUFBSXFHLGlCQUFrQixDQUNyQjFILE1BQU95SCxFQUFRLE9BQVMsU0FHcEJBLElBQVNwRyxFQUFJakUsS0FBTSx1QkFBeEIsQ0FLQSxJQUFJdUssRUFBTTVLLEtBQUs0QixLQUFLQyxVQUFXLFFBQzlCMkIsRUFBTy9FLEVBQUcsNEZBQStGbU0sRUFBTSwrREFDaEh0RyxFQUFJbUYsS0FBTSxZQUFhRCxNQUFPaEcsR0FFOUJjLEVBQUl6RixHQUFJLFNBQVUsV0FDakIsSUFBSWdNLEVBQUtwTSxFQUFHRyxNQUFPMkQsTUFDZHNJLEVBQ0pySCxFQUFLbkQsS0FBTSxPQUFRLE9BQVN3SyxHQUFLdEIsT0FFakMvRixFQUFLd0csU0FFSG5ILFFBQVMsWUFVZGpFLEtBQUtrTSxZQUFjLFdBRWxCck0sRUFBRyxnREFBaURJLEdBQUksUUFBUyxXQUVoRSxJQUFJMkUsRUFBTy9FLEVBQUdHLE1BQ2JtTSxFQUFTdkgsRUFBS3pFLFFBQVMsZUFHeEIsR0FBS3lFLEVBQUtuRCxLQUFNLGFBQWdCLENBQy9CLElBQUlpRCxFQUFPRSxFQUFLRixPQUNoQkUsRUFBS0YsS0FBTUUsRUFBS25ELEtBQU0sY0FDdEJtRCxFQUFLbkQsS0FBTSxZQUFhaUQsR0FJekJ5SCxFQUFPNUwsS0FBTSxlQUFnQkUsS0FBTSxXQUU3QlosRUFBR0csTUFBTzZELFNBQVUsVUFDeEJoRSxFQUFHRyxNQUFPdUMsU0FBVSxVQUFXN0IsWUFBYSxVQUU1Q2IsRUFBR0csTUFBT3VDLFNBQVUsVUFBVzdCLFlBQWEsZUFVaERWLEtBQUtpQixRQXpyQ1AsQ0Fnc0NLbUwiLCJmaWxlIjoibGxtcy1tZXRhYm94ZXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBDb250cmlidXRvcidzIE5vdGljZVxuICogXG4gKiBUaGlzIGlzIGEgY29tcGlsZWQgZmlsZSBhbmQgc2hvdWxkIG5vdCBiZSBlZGl0ZWQgZGlyZWN0bHkhXG4gKiBUaGUgdW5jb21waWxlZCBzY3JpcHQgaXMgbG9jYXRlZCBpbiB0aGUgXCJhc3NldHMvcHJpdmF0ZVwiIGRpcmVjdG9yeVxuICogXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBMaWZ0ZXJMTVMgQWRtaW4gUGFuZWwgTWV0YWJveCBGdW5jdGlvbnNcbiAqIEBzaW5jZSAgICAzLjAuMFxuICogQHZlcnNpb24gIDMuMjEuMFxuICovXG4oIGZ1bmN0aW9uKCAkICkge1xuXG5cdCQuZm4ubGxtc0NvbGxhcHNpYmxlID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJGdyb3VwID0gdGhpcztcblxuXHRcdHRoaXMub24oICdjbGljaycsICcubGxtcy1jb2xsYXBzaWJsZS1oZWFkZXInLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICRwYXJlbnQgPSAkKCB0aGlzICkuY2xvc2VzdCggJy5sbG1zLWNvbGxhcHNpYmxlJyApLFxuXHRcdFx0XHQkc2libGluZ3MgPSAkcGFyZW50LnNpYmxpbmdzKCAnLmxsbXMtY29sbGFwc2libGUnICk7XG5cblx0XHRcdCRwYXJlbnQudG9nZ2xlQ2xhc3MoICdvcGVuZWQnICk7XG5cblx0XHRcdCRwYXJlbnQuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWJvZHknICkuc2xpZGVUb2dnbGUoIDQwMCApO1xuXG5cdFx0XHQkc2libGluZ3MuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblx0XHRcdFx0JCggdGhpcyApLmZpbmQoICcubGxtcy1jb2xsYXBzaWJsZS1ib2R5JyApLnNsaWRlVXAoIDQwMCApO1xuXHRcdFx0fSApO1xuXG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fTtcblxuXHR3aW5kb3cubGxtcyA9IHdpbmRvdy5sbG1zIHx8IHt9O1xuXG5cdHZhciBNZXRhYm94ZXMgPSBmdW5jdGlvbigpIHtcblxuXHRcdC8qKlxuXHRcdCAqIGxvYWQgYWxsIHBhcnRpYWxzXG5cdFx0ICovXG5cdFx0LyoqXG5cdFx0ICogTGlmdGVyTE1TIEFkbWluIE1ldGFib3ggUmVwZWF0ZXIgRmllbGRcblx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0ICogQHZlcnNpb24gIDMuMjEuMFxuXHRcdCAqL1xuXHRcdHRoaXMucmVwZWF0ZXJzID0ge1xuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBtZXRhYm94IGNsYXNzXG5cdFx0XHQgKiBAdHlwZSAgb2JqXG5cdFx0XHQgKi9cblx0XHRcdG1ldGFib3hlczogdGhpcyxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogalF1ZXJ5IHNlbGVjdG9yIGZvciBhbGwgcmVwZWF0ZXIgZWxlbWVudHMgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdFx0XHQgKiBAdHlwZSAge1t0eXBlXX1cblx0XHRcdCAqL1xuXHRcdFx0JHJlcGVhdGVyczogbnVsbCxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSW5pdFxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjE3LjNcblx0XHRcdCAqL1xuXHRcdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcblx0XHRcdFx0c2VsZi4kcmVwZWF0ZXJzID0gJCggJy5sbG1zLW1iLWxpc3QucmVwZWF0ZXInICk7XG5cdFx0XG5cdFx0XHRcdGlmICggc2VsZi4kcmVwZWF0ZXJzLmxlbmd0aCApIHtcblx0XHRcblx0XHRcdFx0XHQvLyB3YWl0IGZvciB0aW55TUNFIGp1c3QgaW4gY2FzZSB0aGVpciBlZGl0b3JzIGluIHRoZSByZXBlYXRlcnNcblx0XHRcdFx0XHRMTE1TLndhaXRfZm9yKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGlueU1DRSApO1xuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5sb2FkKCk7XG5cdFx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gb24gY2xpY2sgb2YgYW55IHBvc3Qgc3VibWl0IGJ1dHRvbnMgYWRkIHNvbWUgZGF0YSB0byB0aGUgc3VibWl0IGJ1dHRvblxuXHRcdFx0XHRcdC8vIHNvIHdlIGNhbiBzZWUgd2hpY2ggYnV0dG9uIHRvIHRyaWdnZXIgYWZ0ZXIgcmVwZWF0ZXJzIGFyZSBmaW5pc2hlZFxuXHRcdFx0XHRcdCQoICcjcG9zdCBpbnB1dFt0eXBlPVwic3VibWl0XCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hdHRyKCAnZGF0YS1sbG1zLWNsaWNrZWQnLCAneWVzJyApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHQvLyBoYW5kbGUgcG9zdCBzdWJtaXNzaW9uXG5cdFx0XHRcdFx0JCggJyNwb3N0JyApLm9uKCAnc3VibWl0Jywgc2VsZi5oYW5kbGVfc3VibWl0ICk7XG5cdFx0XG5cdFx0XHRcdH1cblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEJpbmQgRE9NIEV2ZW50c1xuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjEzLjBcblx0XHRcdCAqL1xuXHRcdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcblx0XHRcdFx0c2VsZi4kcmVwZWF0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdHZhciAkcmVwZWF0ZXIgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0XHQkcm93cyA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93cycgKSxcblx0XHRcdFx0XHRcdCRtb2RlbCA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItbW9kZWwnICk7XG5cdFx0XG5cdFx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlUmVtb3ZlRWRpdG9yJywgdHJ1ZSwgJG1vZGVsLmZpbmQoICcubGxtcy1tYi1saXN0LmVkaXRvciB0ZXh0YXJlYScgKS5hdHRyKCAnaWQnICkgKTtcblx0XHRcblx0XHRcdFx0XHQvLyBmb3IgdGhlIHJlcGVhdGVyICsgYnV0dG9uXG5cdFx0XHRcdFx0JHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1uZXctYnRuJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkX3JvdyggJHJlcGVhdGVyLCBudWxsLCB0cnVlICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIG1ha2UgcmVwZWF0ZXIgcm93cyBzb3J0YWJsZVxuXHRcdFx0XHRcdCRyb3dzLnNvcnRhYmxlKCB7XG5cdFx0XHRcdFx0XHRoYW5kbGU6ICcubGxtcy1kcmFnLWhhbmRsZScsXG5cdFx0XHRcdFx0XHRpdGVtczogJy5sbG1zLXJlcGVhdGVyLXJvdycsXG5cdFx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHRcdFx0JHJvd3MuYWRkQ2xhc3MoICdkcmFnZ2luZycgKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHRcdFx0XHQkcm93cy5yZW1vdmVDbGFzcyggJ2RyYWdnaW5nJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0XHR2YXIgJGVkcyA9IHVpLml0ZW0uZmluZCggJ3RleHRhcmVhLndwLWVkaXRvci1hcmVhJyApO1xuXHRcdFx0XHRcdFx0XHQkZWRzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlZF9pZCA9ICQoIHRoaXMgKS5hdHRyKCAnaWQnICk7XG5cdFx0XHRcdFx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlUmVtb3ZlRWRpdG9yJywgdHJ1ZSwgZWRfaWQgKTtcblx0XHRcdFx0XHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VBZGRFZGl0b3InLCB0cnVlLCBlZF9pZCApO1xuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2F2ZSggJHJlcGVhdGVyICk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHQkcmVwZWF0ZXIub24oICdjbGljaycsICcubGxtcy1yZXBlYXRlci1yZW1vdmUnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR2YXIgJHJvdyA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtcmVwZWF0ZXItcm93JyApO1xuXHRcdFx0XHRcdFx0aWYgKCB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyByb3c/IFRoaXMgY2Fubm90IGJlIHVuZG9uZS4nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0JHJvdy5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zYXZlKCAkcmVwZWF0ZXIgKTtcblx0XHRcdFx0XHRcdFx0fSwgMSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQWRkIGEgbmV3IHJvdyB0byBhIHJlcGVhdGVyIHJvd3MgZ3JvdXBcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAgJHJlcGVhdGVyICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByZXBlYXRlciB0byBhZGQgYSByb3cgdG9cblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAgZGF0YSAgICAgICBvcHRpb25hbCBvYmplY3Qgb2YgZGF0YSB0byBmaWxsIGZpZWxkcyBpbiB0aGUgcm93IHdpdGhcblx0XHRcdCAqIEBwYXJhbSAgICBib29sICAgZXhwYW5kICAgICBpZiB0cnVlLCB3aWxsIGF1dG9tYXRpY2FsbHkgb3BlbiB0aGUgcm93IGFmdGVyIGFkZGluZyBpdCB0byB0aGUgZG9tXG5cdFx0XHQgKiBAcmV0dXJuIFx0IHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHRcdCAqL1xuXHRcdFx0YWRkX3JvdzogZnVuY3Rpb24oICRyZXBlYXRlciwgZGF0YSwgZXhwYW5kICkge1xuXHRcdFxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdFx0JHJvd3MgPSAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvd3MnICksXG5cdFx0XHRcdFx0JG1vZGVsID0gJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1tb2RlbCcgKSxcblx0XHRcdFx0XHQkcm93ID0gJG1vZGVsLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3cnICkuY2xvbmUoKSxcblx0XHRcdFx0XHRuZXdfaW5kZXggPSAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvdycgKS5sZW5ndGgsXG5cdFx0XHRcdFx0ZWRpdG9yID0gc2VsZi5yZWluZGV4KCAkcm93LCBuZXdfaW5kZXggKTtcblx0XHRcblx0XHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRcdCQuZWFjaCggZGF0YSwgZnVuY3Rpb24oIGtleSwgdmFsICkge1xuXHRcdFxuXHRcdFx0XHRcdFx0dmFyICRmaWVsZCA9ICRyb3cuZmluZCggJ1tuYW1lXj1cIicgKyBrZXkgKyAnXCJdJyk7XG5cdFx0XG5cdFx0XHRcdFx0XHRpZiAoICRmaWVsZC5oYXNDbGFzcyggJ2xsbXMtc2VsZWN0Mi1zdHVkZW50JyApICkge1xuXHRcdFx0XHRcdFx0XHQkLmVhY2goIHZhbCwgZnVuY3Rpb24oIGksIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0JGZpZWxkLmFwcGVuZCggJzxvcHRpb24gdmFsdWU9XCInICsgZGF0YS5rZXkgKyAnXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPicgKyBkYXRhLnRpdGxlICsgJzwvb3B0aW9uPicpXG5cdFx0XHRcdFx0XHRcdH0gKSA7XG5cdFx0XHRcdFx0XHRcdCRmaWVsZC50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLnZhbCggdmFsICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZF9yb3coICRyb3cgKTtcblx0XHRcdFx0fSwgMSApO1xuXHRcdFxuXHRcdFx0XHQkcm93cy5hcHBlbmQoICRyb3cgKTtcblx0XHRcdFx0aWYgKCBleHBhbmQgKSB7XG5cdFx0XHRcdFx0JHJvdy5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtaGVhZGVyJyApLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VBZGRFZGl0b3InLCB0cnVlLCBlZGl0b3IgKTtcblx0XHRcblx0XHRcdFx0JHJlcGVhdGVyLnRyaWdnZXIoICdsbG1zLW5ldy1yZXBlYXRlci1yb3cnLCB7XG5cdFx0XHRcdFx0JHJvdzogJHJvdyxcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBCaW5kIERPTSBldmVudHMgZm9yIGEgc2luZ2xlIHJlcGVhdGVyIHJvd1xuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICRyb3cgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIHJvd1xuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjEzLjBcblx0XHRcdCAqL1xuXHRcdFx0YmluZF9yb3c6IGZ1bmN0aW9uKCAkcm93ICkge1xuXHRcdFxuXHRcdFx0XHR0aGlzLmJpbmRfcm93X2hlYWRlciggJHJvdyApO1xuXHRcdFxuXHRcdFx0XHQkcm93LmZpbmQoICcubGxtcy1zZWxlY3QyJyApLmxsbXNTZWxlY3QyKCB7XG5cdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHQkcm93LmZpbmQoICcubGxtcy1zZWxlY3QyLXN0dWRlbnQnICkubGxtc1N0dWRlbnRzU2VsZWN0MigpO1xuXHRcdFxuXHRcdFx0XHR0aGlzLm1ldGFib3hlcy5iaW5kX2RhdGVwaWNrZXJzKCAkcm93LmZpbmQoICcubGxtcy1kYXRlcGlja2VyJyApICk7XG5cdFx0XHRcdHRoaXMubWV0YWJveGVzLmJpbmRfY29udHJvbGxlcnMoICRyb3cuZmluZCggJ1tkYXRhLWlzLWNvbnRyb2xsZXJdJyApICk7XG5cdFx0XHRcdC8vIHRoaXMubWV0YWJveGVzLmJpbmRfbWVyZ2VfY29kZV9idXR0b25zKCAkcm93LmZpbmQoICcubGxtcy1tZXJnZS1jb2RlLXdyYXBwZXInICkgKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEJpbmQgcm93IGhlYWRlciBldmVudHNcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcm93ICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByb3dcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdGJpbmRfcm93X2hlYWRlcjogZnVuY3Rpb24oICRyb3cgKSB7XG5cdFx0XG5cdFx0XHRcdC8vIGhhbmRsZSB0aGUgdGl0bGUgZmllbGQgYmluZGluZ1xuXHRcdFx0XHR2YXIgJHRpdGxlID0gJHJvdy5maW5kKCAnLmxsbXMtcmVwZWF0ZXItdGl0bGUnICksXG5cdFx0XHRcdFx0JGZpZWxkID0gJHJvdy5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtaGVhZGVyLXRpdGxlLWZpZWxkJyApO1xuXHRcdFxuXHRcdFx0XHQkdGl0bGUuYXR0ciggJ2RhdGEtZGVmYXVsdCcsICR0aXRsZS50ZXh0KCkgKTtcblx0XHRcblx0XHRcdFx0JGZpZWxkLm9uKCAna2V5dXAgZm9jdXNvdXQgYmx1cicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRcdFx0aWYgKCAhIHZhbCApIHtcblx0XHRcdFx0XHRcdHZhbCA9ICR0aXRsZS5hdHRyKCAnZGF0YS1kZWZhdWx0JyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkdGl0bGUudGV4dCggdmFsICk7XG5cdFx0XHRcdH0gKS50cmlnZ2VyKCAna2V5dXAnICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBIYW5kbGUgV1AgUG9zdCBmb3JtIHN1Ym1pc3Npb24gdG8gZW5zdXJlIHJlcGVhdGVycyBhcmUgc2F2ZWQgYmVmb3JlIHN1Ym1pdHRpbmcgdGhlIGZvcm0gdG8gc2F2ZS9wdWJsaXNoIHRoZSBwb3N0XG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgZSAgSlMgZXZlbnQgb2JqZWN0XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMjEuMFxuXHRcdFx0ICovXG5cdFx0XHRoYW5kbGVfc3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XHRcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdFx0XHQvLyBnZXQgdGhlIGJ1dHRvbiB1c2VkIHRvIHN1Ym1pdCB0aGUgZm9ybVxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoICcjcG9zdCBbZGF0YS1sbG1zLWNsaWNrZWQ9XCJ5ZXNcIl0nICksXG5cdFx0XHRcdFx0JHNwaW5uZXIgPSAkYnRuLnBhcmVudCgpLmZpbmQoICcuc3Bpbm5lcicgKTtcblx0XHRcblx0XHRcdFx0Ly8gY29yZSBVWCB0byBwcmV2ZW50IG11bHRpLWNsaWNrL29yIHRoZSBhcHBlYXJhbmNlIG9mIGEgZGVsYXlcblx0XHRcdFx0JCggJyNwb3N0IGlucHV0W3R5cGU9XCJzdWJtaXRcIl0nICkuYWRkQ2xhc3MoICdkaXNhYmxlZCcgKS5hdHRyKCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnICk7XG5cdFx0XHRcdCRzcGlubmVyLmFkZENsYXNzKCAnaXMtYWN0aXZlJyApO1xuXHRcdFxuXHRcdFx0XHR2YXIgc2VsZiA9IHdpbmRvdy5sbG1zLm1ldGFib3hlcy5yZXBlYXRlcnMsXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0d2FpdDtcblx0XHRcblx0XHRcdFx0c2VsZi4kcmVwZWF0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuc2F2ZSggJCggdGhpcyApICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0d2FpdCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHRpZiAoIGkgPj0gNTkgfHwgISAkKCAnLmxsbXMtbWItbGlzdC5yZXBlYXRlci5wcm9jZXNzaW5nJyApLmxlbmd0aCApIHtcblx0XHRcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHdhaXQgKTtcblx0XHRcdFx0XHRcdCQoICcjcG9zdCcgKS5vZmYoICdzdWJtaXQnLCB0aGlzLmhhbmRsZV9zdWJtaXQgKTtcblx0XHRcdFx0XHRcdCRzcGlubmVyLnJlbW92ZUNsYXNzKCAnaXMtYWN0aXZlJyApO1xuXHRcdFx0XHRcdFx0JGJ0bi5yZW1vdmVDbGFzcyggJ2Rpc2FibGVkJyApLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcblx0XHRcdFx0XHRcdGkrKztcblx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIExvYWQgcmVwZXJlYXRlciBkYXRhIGZyb20gdGhlIHNlcnZlciBhbmQgY3JlYXRlIHJvd3MgaW4gdGhlIERPTVxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjEyLjFcblx0XHRcdCAqL1xuXHRcdFx0bG9hZDogZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcblx0XHRcdFx0c2VsZi4kcmVwZWF0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdHZhciAkcmVwZWF0ZXIgPSAkKCB0aGlzICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gZW5zdXJlIHRoZSByZXBlYXRlciBpcyBvbmx5IGxvYWRlZCBvbmNlIHRvIHByZXZlbnQgZHVwbGljYXRlcyByZXN1bHRpbmcgZnJvbSBkdXBsaWNhdGluZyBiaW5kaW5nXG5cdFx0XHRcdFx0Ly8gb24gY2VydGFpbiBzaXRlcyB3aGljaCBJIGNhbm5vdCBxdWl0ZSBleHBsYWluLi4uXG5cdFx0XHRcdFx0aWYgKCAkcmVwZWF0ZXIuaGFzQ2xhc3MoICdpcy1sb2FkZWQnICkgfHwgJHJlcGVhdGVyLmhhc0NsYXNzKCAncHJvY2Vzc2luZycgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdFx0c2VsZi5zdG9yZSggJHJlcGVhdGVyLCAnbG9hZCcsIGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdFxuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLmFkZENsYXNzKCAnaXMtbG9hZGVkJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0JC5lYWNoKCBkYXRhLmRhdGEsIGZ1bmN0aW9uKCBpLCBvYmogKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYWRkX3JvdyggJHJlcGVhdGVyLCBvYmosIGZhbHNlICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0XHQvLyBmb3IgZWFjaCByb3cgd2l0aGluIHRoZSByZXBlYXRlclxuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3dzIC5sbG1zLXJlcGVhdGVyLXJvdycgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5iaW5kX3JvdyggJCggdGhpcyApICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFxuXHRcdFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBSZWluZGV4IGEgcm93XG5cdFx0XHQgKiByZW5hbWVzIGlkcywgYXR0cnMsIGFuZCBldGMuLi5cblx0XHRcdCAqIFVzZWQgd2hlbiBjbG9uaW5nIHRoZSBtb2RlbCBmb3IgbmV3IHJvd3Ncblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAgICAgJHJvdyAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcm93XG5cdFx0XHQgKiBAcGFyYW0gICAgaW50fHN0cmluZyAgIGluZGV4ICBpbmRleCAob3IgaWQpIHRvIHVzZSB3aGVuIHJlbmFtaW5nXG5cdFx0XHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdHJlaW5kZXg6IGZ1bmN0aW9uKCAkcm93LCBpbmRleCApIHtcblx0XHRcblx0XHRcdFx0dmFyIG9sZF9pbmRleCA9ICRyb3cuYXR0ciggJ2RhdGEtcm93LW9yZGVyJyApLFxuXHRcdFx0XHRcdCRlZCA9ICRyb3cuZmluZCggJy5sbG1zLW1iLWxpc3QuZWRpdG9yIHRleHRhcmVhJyApO1xuXHRcdFxuXHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VSZW1vdmVFZGl0b3InLCB0cnVlLCAkZWQuYXR0ciggJ2lkJyApICk7XG5cdFx0XG5cdFx0XHRcdGZ1bmN0aW9uIHJlcGxhY2VfYXR0ciggJGVsLCBhdHRyICkge1xuXHRcdFx0XHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBzdHIgPSAkKCB0aGlzICkuYXR0ciggYXR0ciApO1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmF0dHIoIGF0dHIsIHN0ci5yZXBsYWNlKCBvbGRfaW5kZXgsIGluZGV4ICkgKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH07XG5cdFx0XG5cdFx0XHRcdCRyb3cuYXR0ciggJ2RhdGEtcm93LW9yZGVyJywgaW5kZXggKTtcblx0XHRcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LCAnZGF0YS1yb3ctb3JkZXInICk7XG5cdFx0XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnYnV0dG9uLmluc2VydC1tZWRpYScgKSwgJ2RhdGEtZWRpdG9yJyApO1xuXHRcdFxuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ2lucHV0W25hbWVePVwiX2xsbXNcIl0sIHRleHRhcmVhW25hbWVePVwiX2xsbXNcIl0sIHNlbGVjdFtuYW1lXj1cIl9sbG1zXCJdJyApLCAnaWQnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnaW5wdXRbbmFtZV49XCJfbGxtc1wiXSwgdGV4dGFyZWFbbmFtZV49XCJfbGxtc1wiXSwgc2VsZWN0W25hbWVePVwiX2xsbXNcIl0nICksICduYW1lJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ1tkYXRhLWNvbnRyb2xsZXJdJyApLCAnZGF0YS1jb250cm9sbGVyJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ1tkYXRhLWNvbnRyb2xsZXJdJyApLCAnZGF0YS1jb250cm9sbGVyJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJ2J1dHRvbi53cC1zd2l0Y2gtZWRpdG9yJyApLCAnZGF0YS13cC1lZGl0b3ItaWQnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnYnV0dG9uLndwLXN3aXRjaC1lZGl0b3InICksICdpZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICcud3AtZWRpdG9yLXRvb2xzJyApLCAnaWQnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnLndwLWVkaXRvci1jb250YWluZXInICksICdpZCcgKTtcblx0XHRcblx0XHRcblx0XHRcdFx0cmV0dXJuICRlZC5hdHRyKCAnaWQnICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTYXZlIGEgc2luZ2xlIHJlcGVhdGVycyBkYXRhIHRvIHRoZSBzZXJ2ZXJcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgYSByZXBlYXRlciBlbGVtZW50XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pc1xuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRzYXZlOiBmdW5jdGlvbiggJHJlcGVhdGVyICkge1xuXHRcdFx0XHQkcmVwZWF0ZXIudHJpZ2dlciggJ2xsbXMtcmVwZWF0ZXItYmVmb3JlLXNhdmUnLCB7ICRlbDogJHJlcGVhdGVyIH0gKTtcblx0XHRcdFx0dGhpcy5zdG9yZSggJHJlcGVhdGVyLCAnc2F2ZScgKTtcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIENvbnZlcnQgYSByZXBlYXRlciBlbGVtZW50IGludG8gYW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGNhbiBiZSBzYXZlZCB0byB0aGUgZGF0YWJhc2Vcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgYSByZXBlYXRlciBlbGVtZW50XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdFx0ICovXG5cdFx0XHRzZXJpYWxpemU6IGZ1bmN0aW9uKCAkcmVwZWF0ZXIgKSB7XG5cdFx0XG5cdFx0XHRcdHZhciByb3dzID0gW107XG5cdFx0XG5cdFx0XHRcdCRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93cyAubGxtcy1yZXBlYXRlci1yb3cnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFxuXHRcdFx0XHRcdC8vIGVhc3kuLi5cblx0XHRcdFx0XHQkKCB0aGlzICkuZmluZCggJ2lucHV0W25hbWVePVwiX2xsbXNcIl0sIHNlbGVjdFtuYW1lXj1cIl9sbG1zXCJdJyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0b2JqWyAkKCB0aGlzICkuYXR0ciggJ25hbWUnICkgXSA9ICQoIHRoaXMgKS52YWwoKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgdGhlIHRleHRhcmVhIGlzIGEgdGlueU1DRSBpbnN0YW5jZVxuXHRcdFx0XHRcdCQoIHRoaXMgKS5maW5kKCAndGV4dGFyZWFbbmFtZV49XCJfbGxtc1wiXScgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHRcdHZhciBuYW1lID0gJCggdGhpcyApLmF0dHIoICduYW1lJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0Ly8gaWYgaXQgaXMgYW4gZWRpdG9yXG5cdFx0XHRcdFx0XHRpZiAoIHRpbnlNQ0UuZWRpdG9yc1sgbmFtZSBdICkge1xuXHRcdFx0XHRcdFx0XHRvYmpbIG5hbWUgXSA9IHRpbnlNQ0UuZWRpdG9yc1sgbmFtZSBdLmdldENvbnRlbnQoKTtcblx0XHRcdFx0XHRcdC8vIGdyYWIgdGhlIHZhbCBvZiB0aGUgdGV4dGFyZWFcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG9ialsgbmFtZSBdID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHRyb3dzLnB1c2goIG9iaiApO1xuXHRcdFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdHJldHVybiByb3dzO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQUpBWCBtZXRob2QgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHJlcGVhdGVyJ3MgaGFuZGxlciBvbiB0aGUgc2VydmVyXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgICRyZXBlYXRlciAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcmVwZWF0ZXIgZWxlbWVudFxuXHRcdFx0ICogQHBhcmFtICAgIHN0cmluZyAgICBhY3Rpb24gICAgIGFjdGlvbiB0byBjYWxsIFtzYXZlfGxvYWRdXG5cdFx0XHQgKiBAcGFyYW0gICAgZnVuY3Rpb24gIGNiICAgICAgICAgY2FsbGJhY2sgZnVuY3Rpb25cblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdHN0b3JlOiBmdW5jdGlvbiggJHJlcGVhdGVyLCBhY3Rpb24sIGNiICkge1xuXHRcdFxuXHRcdFx0XHRjYiA9IGNiIHx8IGZ1bmN0aW9uKCl7fTtcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdFx0XHRhY3Rpb246ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItZmllbGQtaGFuZGxlcicgKS52YWwoKSxcblx0XHRcdFx0XHRcdHN0b3JlX2FjdGlvbjogYWN0aW9uLFxuXHRcdFx0XHRcdH07XG5cdFx0XG5cdFx0XHRcdGlmICggJ3NhdmUnID09PSBhY3Rpb24gKSB7XG5cdFx0XHRcdFx0ZGF0YS5yb3dzID0gc2VsZi5zZXJpYWxpemUoICRyZXBlYXRlciApO1xuXHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdExMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHRcdCRyZXBlYXRlci5hZGRDbGFzcyggJ3Byb2Nlc3NpbmcnICk7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRyZXBlYXRlciApO1xuXHRcdFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cdFx0XG5cdFx0XHRcdFx0XHRjYiggciApO1xuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRyZXBlYXRlciApO1xuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLnJlbW92ZUNsYXNzKCAncHJvY2Vzc2luZycgKTtcblx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdH1cblx0XHRcblx0XHR9O1xuXHRcdHRoaXMucmVwZWF0ZXJzLmluaXQoKTtcblx0XHRcblxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdCAqL1xuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdCQoICcubGxtcy1zZWxlY3QyLXBvc3QnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYucG9zdF9zZWxlY3QoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHQkKCAnLmxsbXMtY29sbGFwc2libGUtZ3JvdXAnICkubGxtc0NvbGxhcHNpYmxlKCk7XG5cblx0XHRcdHRoaXMuYmluZF90YWJzKCk7XG5cblx0XHRcdC8vIGJpbmQgZXZlcnl0aGluZyBiZXR0ZXIgYW5kIGxlc3MgcmVwZXRhdGl2ZWx5Li4uXG5cdFx0XHR2YXIgYmluZGluZ3MgPSBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLWRhdGVwaWNrZXInICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfZGF0ZXBpY2tlcnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1zZWxlY3QyJyApLFxuXHRcdFx0XHRcdGZ1bmM6IGZ1bmN0aW9uKCAkc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHQkc2VsZWN0b3IubGxtc1NlbGVjdDIoIHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1zZWxlY3QyLXN0dWRlbnQnICksXG5cdFx0XHRcdFx0ZnVuYzogZnVuY3Rpb24oICRzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdCRzZWxlY3Rvci5sbG1zU3R1ZGVudHNTZWxlY3QyKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1jb250cm9sc10nICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfY2JfY29udHJvbGxlcnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdbZGF0YS1pcy1jb250cm9sbGVyXScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9jb250cm9sbGVycycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLXRhYmxlJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX3RhYmxlcycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLW1lcmdlLWNvZGUtd3JhcHBlcicgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdhLmxsbXMtZWRpdGFibGUnICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfZWRpdGFibGVzJyxcblx0XHRcdFx0fSxcblx0XHRcdF07XG5cblx0XHRcdC8vIGJpbmQgYWxsIHRoZSBiaW5kYWJsZXMgYnV0IGRvbid0IGJpbmQgdGhpbmdzIGluIHJlcGVhdGVyc1xuXHRcdFx0JC5lYWNoKCBiaW5kaW5ncywgZnVuY3Rpb24oIGluZGV4LCBvYmogKSB7XG5cblx0XHRcdFx0aWYgKCBvYmouc2VsZWN0b3IubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gcmVkdWNlIHRoZSBzZWxlY3RvciB0byBleGNsdWRlIGl0ZW1zIGluIGEgcmVwZWF0ZXJcblx0XHRcdFx0XHR2YXIgcmVkdWNlZCA9IG9iai5zZWxlY3Rvci5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICggMCA9PT0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1yZXBlYXRlci1tb2RlbCcgKS5sZW5ndGggKTtcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHQvLyBiaW5kIGJ5IHN0cmluZ1xuXHRcdFx0XHRcdGlmICggJ3N0cmluZycgPT09IHR5cGVvZiBvYmouZnVuYyApIHtcblx0XHRcdFx0XHRcdHNlbGZbIG9iai5mdW5jIF0oIHJlZHVjZWQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gYmluZCBieSBhbiBhbm9ueW1vdXMgZnVuY3Rpb25cblx0XHRcdFx0XHRlbHNlIGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9iai5mdW5jICkge1xuXHRcdFx0XHRcdFx0b2JqLmZ1bmMoIHJlZHVjZWQgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGlmIGEgcG9zdCB0eXBlIGlzIHNldCAmIGEgYmluZCBleGlzdHMgZm9yIGl0LCBiaW5kIGl0XG5cdFx0XHRpZiAoIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlICkge1xuXG5cdFx0XHRcdHZhciBmdW5jID0gJ2JpbmRfJyArIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlO1xuXG5cdFx0XHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRoaXNbZnVuY10gKSB7XG5cblx0XHRcdFx0XHR0aGlzW2Z1bmNdKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBjaGVja2JveGVzIHRoYXQgY29udHJvbCB0aGUgZGlzcGxheSBvZiBvdGhlciBlbGVtZW50c1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkY29udHJvbGxlcnNzICBqUXVlcnkgc2VsY3RvciBmb3IgY2hlY2tib3hlcyB0byBiZSBib3VuZCBhcyBjaGVja2JveCBjb250cm9sbGVyc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9jYl9jb250cm9sbGVycyA9IGZ1bmN0aW9uKCAkY29udHJvbGxlcnMgKSB7XG5cblx0XHRcdCRjb250cm9sbGVycyA9ICRjb250cm9sbGVycyB8fCAkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtY29udHJvbHNdJyApO1xuXG5cdFx0XHQkY29udHJvbGxlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRjYiA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkY29udHJvbGxlZCA9ICQoICRjYi5hdHRyKCAnZGF0YS1jb250cm9scycgKSApLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApO1xuXG5cdFx0XHRcdCRjYi5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaXMoICc6Y2hlY2tlZCcgKSApIHtcblxuXHRcdFx0XHRcdFx0JGNvbnRyb2xsZWQuc2xpZGVEb3duKCAyMDAgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdCRjb250cm9sbGVkLnNsaWRlVXAoIDIwMCApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQkY2IudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZWxlbWVudHMgdGhhdCBjb250cm9sIHRoZSBkaXNwbGF5IG9mIG90aGVyIGVsZW1lbnRzXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRjb250cm9sbGVyc3MgIGpRdWVyeSBzZWxjdG9yIGZvciBlbGVtZW50cyB0byBiZSBib3VuZCBhcyBjaGVja2JveCBjb250cm9sbGVyc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9jb250cm9sbGVycyA9IGZ1bmN0aW9uKCAkY29udHJvbGxlcnMgKSB7XG5cblx0XHRcdCRjb250cm9sbGVycyA9ICRjb250cm9sbGVycyB8fCAkKCAnW2RhdGEtaXMtY29udHJvbGxlcl0nICk7XG5cblx0XHRcdCRjb250cm9sbGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRjb250cm9sbGVkID0gJCggJ1tkYXRhLWNvbnRyb2xsZXI9XCIjJyArICRlbC5hdHRyKCAnaWQnICkgKyAnXCJdJyApLFxuXHRcdFx0XHRcdHZhbDtcblxuXHRcdFx0XHQkZWwub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdGlmICggJ2NoZWNrYm94JyA9PT0gJGVsLmF0dHIoICd0eXBlJyApICkge1xuXG5cdFx0XHRcdFx0XHR2YWwgPSAkZWwuaXMoICc6Y2hlY2tlZCcgKSA/ICRlbC52YWwoKSA6ICdmYWxzZSc7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHR2YWwgPSAkZWwudmFsKCk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkY29udHJvbGxlZC5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0dmFyIHBvc3NpYmxlID0gJCggdGhpcyApLmF0dHIoICdkYXRhLWNvbnRyb2xsZXItdmFsdWUnICksXG5cdFx0XHRcdFx0XHRcdHZhbHMgPSBbXTtcblxuXHRcdFx0XHRcdFx0aWYgKCAtMSAhPT0gcG9zc2libGUuaW5kZXhPZiggJywnICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0dmFscyA9IHBvc3NpYmxlLnNwbGl0KCAnLCcgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHR2YWxzLnB1c2goIHBvc3NpYmxlICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCAtMSAhPT0gdmFscy5pbmRleE9mKCB2YWwgKSApIHtcblxuXHRcdFx0XHRcdFx0XHQkKCB0aGlzICkuc2xpZGVEb3duKCAyMDAgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkKCB0aGlzICkuc2xpZGVVcCggMjAwICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0gKTtcblxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQkZWwudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgYSBzaW5nbGUgZGF0ZXBpY2tlciBlbGVtZW50XG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgaW5wdXQgdG8gYmluZCB0aGUgZGF0ZXBpY2tlciB0b1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9kYXRlcGlja2VyID0gZnVuY3Rpb24oICRlbCApIHtcblx0XHRcdHZhciBmb3JtYXQgPSAkZWwuYXR0ciggJ2RhdGEtZm9ybWF0JyApIHx8ICdtbS9kZC95eScsXG5cdFx0XHRcdG1heERhdGUgPSAkZWwuYXR0ciggJ2RhdGEtbWF4LWRhdGUnICkgfHwgbnVsbCxcblx0XHRcdFx0bWluRGF0ZSA9ICRlbC5hdHRyKCAnZGF0YS1taW4tZGF0ZScgKSB8fCBudWxsO1xuXHRcdFx0JGVsLmRhdGVwaWNrZXIoIHtcblx0XHRcdFx0ZGF0ZUZvcm1hdDogZm9ybWF0LFxuXHRcdFx0XHRtYXhEYXRlOiBtYXhEYXRlLFxuXHRcdFx0XHRtaW5EYXRlOiBtaW5EYXRlLFxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgYWxsIExpZnRlckxNUyBkYXRlcGlja2Vyc1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZGF0ZXBpY2tlcnMgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGVsZW1lbnRzIHRvIGJpbmRcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfZGF0ZXBpY2tlcnMgPSBmdW5jdGlvbiggJGRhdGVwaWNrZXJzICkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdCRkYXRlcGlja2VycyA9ICRkYXRlcGlja2VycyB8fCAkKCcubGxtcy1kYXRlcGlja2VyJyk7XG5cblx0XHRcdCRkYXRlcGlja2Vycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kX2RhdGVwaWNrZXIoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgbGxtcy1lZGl0YWJsZSBtZXRhYm94IGZpZWxkcyBhbmQgcmVsYXRlZCBkb20gaW50ZXJhY3Rpb25zXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9lZGl0YWJsZXMgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRmdW5jdGlvbiBtYWtlX2VkaXRhYmxlKCAkZmllbGQgKSB7XG5cblx0XHRcdFx0dmFyICRsYWJlbCA9ICRmaWVsZC5maW5kKCAnbGFiZWwnICkuY2xvbmUoKSxcblx0XHRcdFx0XHRuYW1lID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUnICksXG5cdFx0XHRcdFx0dHlwZSA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXR5cGUnICksXG5cdFx0XHRcdFx0cmVxdWlyZWQgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1yZXF1aXJlZCcgKSB8fCAnbm8nLFxuXHRcdFx0XHRcdHZhbCA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXZhbHVlJyApLFxuXHRcdFx0XHRcdCRpbnB1dDtcblxuXHRcdFx0XHRyZXF1aXJlZCA9ICggJ3llcycgPT09IHJlcXVpcmVkICkgPyAnIHJlcXVpcmVkPVwicmVxdWlyZWRcIicgOiAnJztcblxuXHRcdFx0XHRpZiAoICdzZWxlY3QnID09PSB0eXBlICkge1xuXG5cdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBKU09OLnBhcnNlKCAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1vcHRpb25zJyApICksXG5cdFx0XHRcdFx0XHRzZWxlY3RlZDtcblxuXHRcdFx0XHRcdCRpbnB1dCA9ICQoICc8c2VsZWN0IG5hbWU9XCInICsgbmFtZSArICdcIicgKyByZXF1aXJlZCArICcgLz4nKTtcblx0XHRcdFx0XHRmb3IgKCB2YXIga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZCA9IHZhbCA9PT0ga2V5ID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJyc7XG5cdFx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPG9wdGlvbiB2YWx1ZT1cIicgKyBrZXkgKyAnXCInICsgc2VsZWN0ZWQgKyAnPicgKyBvcHRpb25zWyBrZXkgXSArICc8L29wdGlvbj4nICk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0fSBlbHNlIGlmICggJ2RhdGV0aW1lJyA9PT0gdHlwZSApIHtcblxuXHRcdFx0XHRcdCRpbnB1dCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1kYXRldGltZS1maWVsZFwiIC8+JyApO1xuXG5cdFx0XHRcdFx0dmFsID0gSlNPTi5wYXJzZSggdmFsICk7XG5cdFx0XHRcdFx0dmFyIGZvcm1hdCA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLWRhdGUtZm9ybWF0JyApIHx8ICcnLFxuXHRcdFx0XHRcdFx0bWluX2RhdGUgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1kYXRlLW1pbicgKSB8fCAnJyxcblx0XHRcdFx0XHRcdG1heF9kYXRlID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtZGF0ZS1tYXgnICkgfHwgJyc7XG5cblx0XHRcdFx0XHQkcGlja2VyID0gJCggJzxpbnB1dCBjbGFzcz1cImxsbXMtZGF0ZS1pbnB1dCBsbG1zLWRhdGVwaWNrZXJcIiBkYXRhLWZvcm1hdD1cIicgKyBmb3JtYXQgKyAnXCIgZGF0YS1tYXgtZGF0ZT1cIicgKyBtYXhfZGF0ZSArICdcIiBkYXRhLW1pbi1kYXRlPVwiJyArIG1pbl9kYXRlICsgJ1wiIG5hbWU9XCInICsgbmFtZSArICdbZGF0ZV1cIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArICB2YWwuZGF0ZSArICdcIj4nICk7XG5cdFx0XHRcdFx0c2VsZi5iaW5kX2RhdGVwaWNrZXIoICRwaWNrZXIgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAkcGlja2VyICk7XG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxlbT5APC9lbT4nKTtcblxuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8aW5wdXQgY2xhc3M9XCJsbG1zLXRpbWUtaW5wdXRcIiBtYXg9XCIyM1wiIG1pbj1cIjBcIiBuYW1lPVwiJyArIG5hbWUgKyAnW2hvdXJdXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiJyArICB2YWwuaG91ciArICdcIj4nICk7XG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxlbT46PC9lbT4nKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGlucHV0IGNsYXNzPVwibGxtcy10aW1lLWlucHV0XCIgbWF4PVwiNTlcIiBtaW49XCIwXCIgbmFtZT1cIicgKyBuYW1lICsgJ1ttaW51dGVdXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiJyArICB2YWwubWludXRlICsgJ1wiPicgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0JGlucHV0ID0gJCggJzxpbnB1dCBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdHlwZT1cIicgKyB0eXBlICsgJ1wiIHZhbHVlPVwiJyArIHZhbCArICdcIicgKyByZXF1aXJlZCArICc+Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkZmllbGQuZW1wdHkoKS5hcHBlbmQoICRsYWJlbCApLmFwcGVuZCggJGlucHV0ICk7XG5cblx0XHRcdH07XG5cblx0XHRcdCQoICdhLmxsbXMtZWRpdGFibGUnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkZmllbGRzO1xuXG5cdFx0XHRcdGlmICggJGJ0bi5hdHRyKCAnZGF0YS1maWVsZHMnICkgKSB7XG5cdFx0XHRcdFx0JGZpZWxkcyA9ICQoICRidG4uYXR0ciggJ2RhdGEtZmllbGRzJyApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGZpZWxkcyA9ICRidG4uY2xvc2VzdCggJy5sbG1zLW1ldGFib3gtc2VjdGlvbicgKS5maW5kKCAnW2RhdGEtbGxtcy1lZGl0YWJsZV0nICk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdCRidG4ucmVtb3ZlKCk7XG5cblx0XHRcdFx0JGZpZWxkcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRtYWtlX2VkaXRhYmxlKCAkKCB0aGlzICkgKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBFbmdhZ2VtZW50IHBvc3QgdHlwZSBKU1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMS4wXG5cdFx0ICogQHZlcnNpb24gIDMuMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2xsbXNfZW5nYWdlbWVudCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vIHdoZW4gdGhlIGVuZ2FnZW1lbnQgdHlwZSBjaGFuZ2VzIHdlIG5lZWQgdG8gZG8gc29tZSB0aGluZ3MgdG8gdGhlIFVJXG5cdFx0XHQkKCAnI19sbG1zX2VuZ2FnZW1lbnRfdHlwZScgKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdCQoICcjX2xsbXNfZW5nYWdlbWVudCcgKS50cmlnZ2VyKCAnbGxtcy1lbmdhZ2VtZW50LXR5cGUtY2hhbmdlJywgJCggdGhpcyApLnZhbCgpICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gY3VzdG9tIHRyaWdnZXIgd2hlbiBjYWxsZWQgd2hlbiB0aGUgZW5nYWdlbWVudCB0eXBlIGNoYW5nc1xuXHRcdFx0JCggJyNfbGxtc19lbmdhZ2VtZW50JyApLm9uKCAnbGxtcy1lbmdhZ2VtZW50LXR5cGUtY2hhbmdlJywgZnVuY3Rpb24oIGUsIGVuZ2FnZW1lbnRfdHlwZSApIHtcblxuXHRcdFx0XHR2YXIgJHNlbGVjdCA9ICQoIHRoaXMgKTtcblxuXHRcdFx0XHRzd2l0Y2ggKCBlbmdhZ2VtZW50X3R5cGUgKSB7XG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBjb3JlIGVuZ2FnZW1lbnRzIHJlbGF0ZWQgdG8gYSBDUFRcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRjYXNlICdhY2hpZXZlbWVudCc6XG5cdFx0XHRcdFx0Y2FzZSAnY2VydGlmaWNhdGUnOlxuXHRcdFx0XHRcdGNhc2UgJ2VtYWlsJzpcblxuXHRcdFx0XHRcdFx0dmFyIGNwdCA9ICdsbG1zXycgKyBlbmdhZ2VtZW50X3R5cGU7XG5cblx0XHRcdFx0XHRcdCRzZWxlY3QudmFsKCBudWxsICkuYXR0ciggJ2RhdGEtcG9zdC10eXBlJywgY3B0ICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0XHRcdHNlbGYucG9zdF9zZWxlY3QoICRzZWxlY3QgKTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogQWxsb3cgb3RoZXIgcGx1Z2lucyBhbmQgZGV2ZWxvcGVycyB0byBob29rIGludG8gdGhlIGVuZ2FnZW1lbnQgdHlwZSBjaGFuZ2UgYWN0aW9uXG5cdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRcdFx0JHNlbGVjdC50cmlnZ2VyKCAnbGxtcy1lbmdhZ2VtZW50LXR5cGUtY2hhbmdlLWV4dGVybmFsJywgZW5nYWdlbWVudF90eXBlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWN0aW9ucyBmb3IgbWVtYmVyc2hpcHNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE4LjJcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfbGxtc19tZW1iZXJzaGlwID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIHJlbW92ZSBhdXRvLWVucm9sbCBjb3Vyc2Vcblx0XHRcdCQoICdhW2hyZWY9XCIjbGxtcy1jb3Vyc2UtcmVtb3ZlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRlbCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcm93ID0gJGVsLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkY29udGFpbmVyID0gJGVsLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApO1xuXG5cdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdGFjdGlvbjogJ21lbWJlcnNoaXBfcmVtb3ZlX2F1dG9fZW5yb2xsX2NvdXJzZScsXG5cdFx0XHRcdFx0XHRjb3Vyc2VfaWQ6ICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLmZpbmQoICdwLmVycm9yJyApLnJlbW92ZSgpO1xuXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggciApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCByLnN1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0XHRcdFx0JHJvdy5mYWRlT3V0KCAyMDAgKTtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHJvdy5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0fSwgNDAwICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0JGNvbnRhaW5lci5wcmVwZW5kKCAnPHAgY2xhc3M9XCJlcnJvclwiPicgKyByLm1lc3NhZ2UgKyAnPC9wPicgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJGNvbnRhaW5lciApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBidWxrIGVucm9sbCBhbGwgbWVtYmVycyBpbnRvIGEgY291cnNlXG5cdFx0XHQkKCAnYVtocmVmPVwiI2xsbXMtY291cnNlLWJ1bGstZW5yb2xsXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRlbCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcm93ID0gJGVsLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkY29udGFpbmVyID0gJGVsLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApO1xuXG5cdFx0XHRcdGlmICggISB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0NsaWNrIG9rYXkgdG8gZW5yb2xsIGFsbCBhY3RpdmUgbWVtYmVycyBpbnRvIHRoZSBzZWxlY3RlZCBjb3Vyc2UuIEVucm9sbG1lbnQgd2lsbCB0YWtlIHBsYWNlIGluIHRoZSBiYWNrZ3JvdW5kIGFuZCB5b3UgbWF5IGxlYXZlIHlvdXIgc2l0ZSBhZnRlciBjb25maXJtYXRpb24uIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUhJyApICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAnYnVsa19lbnJvbGxfbWVtYmVyc2hpcF9pbnRvX2NvdXJzZScsXG5cdFx0XHRcdFx0XHRjb3Vyc2VfaWQ6ICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JGNvbnRhaW5lci5maW5kKCAncC5lcnJvcicgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIHIuc3VjY2VzcyApIHtcblxuXHRcdFx0XHRcdFx0XHQkZWwucmVwbGFjZVdpdGgoICc8c3Ryb25nIHN0eWxlPVwiZmxvYXQ6cmlnaHQ7XCI+JyArIHIuZGF0YS5tZXNzYWdlICsgJyZuYnNwOyZuYnNwOzwvc3Ryb25nPicgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkY29udGFpbmVyLnByZXBlbmQoICc8cCBjbGFzcz1cImVycm9yXCI+JyArIHIubWVzc2FnZSArICc8L3A+JyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWN0aW9ucyBmb3IgT1JERVJTXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2xsbXNfb3JkZXIgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0JCggJ2J1dHRvbltuYW1lPVwibGxtcy1yZWZ1bmQtdG9nZ2xlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcm93ID0gJGJ0bi5jbG9zZXN0KCAndHInICksXG5cdFx0XHRcdFx0dHhuX2lkID0gJHJvdy5hdHRyKCAnZGF0YS10cmFuc2FjdGlvbi1pZCcgKSxcblx0XHRcdFx0XHRyZWZ1bmRhYmxlX2Ftb3VudCA9ICRidG4uYXR0ciggJ2RhdGEtcmVmdW5kYWJsZScgKSxcblx0XHRcdFx0XHRnYXRld2F5X3N1cHBvcnRzID0gKCAnMScgPT09ICRidG4uYXR0ciggJ2RhdGEtZ2F0ZXdheS1zdXBwb3J0cycgKSApID8gdHJ1ZSA6IGZhbHNlLFxuXHRcdFx0XHRcdGdhdGV3YXlfdGl0bGUgPSAkYnRuLmF0dHIoICdkYXRhLWdhdGV3YXknICksXG5cdFx0XHRcdFx0JG5ld19yb3cgPSAkKCAnI2xsbXMtdHhuLXJlZnVuZC1tb2RlbCAubGxtcy10eG4tcmVmdW5kLWZvcm0nICkuY2xvbmUoKSxcblx0XHRcdFx0XHQkZ2F0ZXdheV9idG4gPSAkbmV3X3Jvdy5maW5kKCAnLmdhdGV3YXktYnRuJyApO1xuXG5cdFx0XHRcdC8vIGNvbmZpZ3VyZSBhbmQgYWRkIHRoZSBmb3JtXG5cdFx0XHRcdGlmICggJ3JlbW92ZScgIT09ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApICkge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ2FuY2VsJyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAncmVtb3ZlJyApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dCcgKS5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cdFx0XHRcdFx0JG5ld19yb3cuZmluZCggJ2lucHV0W25hbWU9XCJsbG1zX3JlZnVuZF9hbW91bnRcIl0nICkuYXR0ciggJ21heCcsIHJlZnVuZGFibGVfYW1vdW50ICk7XG5cdFx0XHRcdFx0JG5ld19yb3cuZmluZCggJ2lucHV0W25hbWU9XCJsbG1zX3JlZnVuZF90eG5faWRcIl0nICkudmFsKCB0eG5faWQgKTtcblxuXHRcdFx0XHRcdGlmICggZ2F0ZXdheV9zdXBwb3J0cyApIHtcblx0XHRcdFx0XHRcdCRnYXRld2F5X2J0bi5maW5kKCAnLmxsbXMtZ2F0ZXdheS10aXRsZScgKS50ZXh0KCBnYXRld2F5X3RpdGxlICk7XG5cdFx0XHRcdFx0XHQkZ2F0ZXdheV9idG4uc2hvdygpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCRyb3cuYWZ0ZXIoICRuZXdfcm93ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdCRidG4udGV4dCggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1JlZnVuZCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJycgKTtcblx0XHRcdFx0XHQkcm93Lm5leHQoICd0cicgKS5yZW1vdmUoKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0JCggJ2J1dHRvbltuYW1lPVwibGxtcy1tYW51YWwtdHhuLXRvZ2dsZVwiXScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyA9ICRidG4uY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdCRuZXdfcm93ID0gJCggJyNsbG1zLW1hbnVhbC10eG4tbW9kZWwgLmxsbXMtbWFudWFsLXR4bi1mb3JtJyApLmNsb25lKCk7XG5cblx0XHRcdFx0Ly8gY29uZmlndXJlIGFuZCBhZGQgdGhlIGZvcm1cblx0XHRcdFx0aWYgKCAncmVtb3ZlJyAhPT0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICkgKSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdDYW5jZWwnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicsICdyZW1vdmUnICk7XG5cdFx0XHRcdFx0JG5ld19yb3cuZmluZCggJ2lucHV0JyApLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKTtcblxuXHRcdFx0XHRcdCRyb3cuYWZ0ZXIoICRuZXdfcm93ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdCRidG4udGV4dCggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1JlY29yZCBhIE1hbnVhbCBQYXltZW50JyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAnJyApO1xuXHRcdFx0XHRcdCRyb3cubmV4dCggJ3RyJyApLnJlbW92ZSgpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBjYWNoZSB0aGUgb3JpZ2luYWwgdmFsdWUgd2hlbiBmb2N1c2luZyBvbiBhIHBheW1lbnQgZ2F0ZXdheSBzZWxlY3Rcblx0XHRcdC8vIHVzZWQgYmVsb3cgc28gdGhlIG9yaWdpbmFsIGZpZWxkIHJlbGF0ZWQgZGF0YSBjYW4gYmUgcmVzdG9yZWQgd2hlbiBzd2l0Y2hpbmcgYmFjayB0byB0aGUgb3JpZ25pYWxseSBzZWxlY3RlZCBnYXRld2F5XG5cdFx0XHQkKCAnLmxsbXMtbWV0YWJveCcgKS5vbmUoICdmb2N1cycsICcubGxtcy1tZXRhYm94LWZpZWxkW2RhdGEtbGxtcy1lZGl0YWJsZT1cInBheW1lbnRfZ2F0ZXdheVwiXSBzZWxlY3QnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRpZiAoICEgJCggdGhpcyApLmF0dHIoICdkYXRhLW9yaWdpbmFsLXZhbHVlJyApICkge1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScsICQoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gd2hlbiBzZWxlY3RpbmcgYSBuZXcgcGF5bWVudCBnYXRld2F5IGdldCBmaWVsZCBkYXRhIGFuZCB1cGRhdGUgdGhlIGRvbSB0byBvbmx5IGRpc3BsYXkgdGhlIGZpZWxkc1xuXHRcdFx0Ly8gc3VwcG9ydGVkL25lZWRlZCBieSB0aGUgbmV3bHkgc2VsZWN0ZWQgZ2F0ZXdheVxuXHRcdFx0JCggJy5sbG1zLW1ldGFib3gnICkub24oICdjaGFuZ2UnLCAnLmxsbXMtbWV0YWJveC1maWVsZFtkYXRhLWxsbXMtZWRpdGFibGU9XCJwYXltZW50X2dhdGV3YXlcIl0gc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRzZWxlY3QgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0Z2F0ZXdheSA9ICRzZWxlY3QudmFsKCksXG5cdFx0XHRcdFx0ZGF0YSA9IEpTT04ucGFyc2UoICRzZWxlY3QuY2xvc2VzdCggJy5sbG1zLW1ldGFib3gtZmllbGQnICkuYXR0ciggJ2RhdGEtZ2F0ZXdheS1maWVsZHMnICkgKSxcblx0XHRcdFx0XHRnYXRld2F5X2RhdGEgPSBkYXRhWyBnYXRld2F5IF07XG5cblx0XHRcdFx0Zm9yICggdmFyIGZpZWxkIGluIGdhdGV3YXlfZGF0YSApIHtcblxuXHRcdFx0XHRcdHZhciAkZmllbGQgPSAkKCAnaW5wdXRbbmFtZT1cIicgKyBnYXRld2F5X2RhdGFbIGZpZWxkIF0ubmFtZSArICdcIl0nICksXG5cdFx0XHRcdFx0XHQkd3JhcCA9ICRmaWVsZC5jbG9zZXN0KCAnLmxsbXMtbWV0YWJveC1maWVsZCcgKTtcblxuXHRcdFx0XHRcdC8vIGFsd2F5cyBjbGVhciB0aGUgdmFsdWUgd2hlbiBzd2l0Y2hpbmdcblx0XHRcdFx0XHQvLyBlbnN1cmVzIHRoYXQgb3V0ZGF0ZWQgZGF0YSBpcyByZW1vdmVkIGZyb20gdGhlIERCXG5cdFx0XHRcdFx0JGZpZWxkLmF0dHIoICd2YWx1ZScsICcnICk7XG5cblx0XHRcdFx0XHQvLyBpZiB0aGUgZmllbGQgaXMgZW5hYmxlZCBzaG93IGl0IHRoZSBmaWVsZCBhbmQsIGlmIHdlJ3JlIHN3aXRjaGluZyBiYWNrIHRvIHRoZSBvcmlnaW5hbGx5IHNlbGVjdGVkXG5cdFx0XHRcdFx0Ly8gZ2F0ZXdheSwgcmVsb2FkIHRoZSB2YWx1ZSBmcm9tIHRoZSBkb21cblx0XHRcdFx0XHRpZiAoIGdhdGV3YXlfZGF0YVsgZmllbGQgXS5lbmFibGVkICkge1xuXG5cdFx0XHRcdFx0XHQkd3JhcC5zaG93KCk7XG5cdFx0XHRcdFx0XHQkZmllbGQuYXR0ciggJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyApO1xuXHRcdFx0XHRcdFx0aWYgKCBnYXRld2F5ID09PSAkc2VsZWN0LmF0dHIoICdkYXRhLW9yaWdpbmFsLXZhbHVlJykgKSB7XG5cdFx0XHRcdFx0XHRcdCRmaWVsZC52YWwoICR3cmFwLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtdmFsdWUnICkgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSBoaWRlIHRoZSBmaWVsZFxuXHRcdFx0XHRcdC8vIHRoaXMgd2lsbCBlbnN1cmUgaXQgZ2V0cyB1cGRhdGVkIGluIHRoZSBkYXRhYmFzZVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdCRmaWVsZC5yZW1vdmVBdHRyKCAncmVxdWlyZWQnICk7XG5cdFx0XHRcdFx0XHQkd3JhcC5oaWRlKCk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZHMgY3VzdG9tIGxsbXMgbWVyZ2UgY29kZSBidXR0b25zXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xLjBcblx0XHQgKiBAdmVyc2lvbiAgMy45LjJcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfbWVyZ2VfY29kZV9idXR0b25zID0gZnVuY3Rpb24oICR3cmFwcGVycyApIHtcblxuXHRcdFx0JHdyYXBwZXJzID0gJHdyYXBwZXJzIHx8ICQoICcubGxtcy1tZXJnZS1jb2RlLXdyYXBwZXInICk7XG5cblx0XHRcdCR3cmFwcGVycy5maW5kKCAnLmxsbXMtbWVyZ2UtY29kZS1idXR0b24nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdCQoIHRoaXMgKS5uZXh0KCAnLmxsbXMtbWVyZ2UtY29kZXMnICkudG9nZ2xlQ2xhc3MoICdhY3RpdmUnICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0JHdyYXBwZXJzLmZpbmQoICcubGxtcy1tZXJnZS1jb2RlcyBsaScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRlbCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcGFyZW50ID0gJGVsLmNsb3Nlc3QoICcubGxtcy1tZXJnZS1jb2RlcycgKSxcblx0XHRcdFx0XHR0YXJnZXQgPSAkcGFyZW50LmF0dHIoICdkYXRhLXRhcmdldCcgKSxcblx0XHRcdFx0XHRjb2RlID0gJGVsLmF0dHIoICdkYXRhLWNvZGUnICk7XG5cblx0XHRcdFx0Ly8gZGVhbGluZyB3aXRoIGEgdGlueW1jZSBpbnN0YW5jZVxuXHRcdFx0XHRpZiAoIC0xID09PSB0YXJnZXQuaW5kZXhPZiggJyMnICkgKSB7XG5cblx0XHRcdFx0XHR2YXIgZWRpdG9yID0gd2luZG93LnRpbnltY2UuZWRpdG9yc1sgdGFyZ2V0IF07XG5cdFx0XHRcdFx0aWYgKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0XHRlZGl0b3IuaW5zZXJ0Q29udGVudCggY29kZSApO1xuXHRcdFx0XHRcdH0gLy8gZmFsbGJhY2sgaW4gY2FzZSB3ZSBjYW4ndCBhY2Nlc3MgdGhlIGVkaXRvciBkaXJlY3RseVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0YWxlcnQoIExMTVMubDEwbi50cmFuc2xhdGUoICdDb3B5IHRoaXMgY29kZSBhbmQgcGFzdGUgaXQgaW50byB0aGUgZGVzaXJlZCBhcmVhJyApICsgJzogJyArIGNvZGUgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBkZWFsaW5nIHdpdGggYSBET00gaWRcblx0XHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0XHQkKCB0YXJnZXQgKS52YWwoICQoIHRhcmdldCApLnZhbCgpICsgY29kZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkcGFyZW50LnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBtZXRhYm94IHRhYnNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF90YWJzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCAnLmxsbXMtbmF2LXRhYi13cmFwcGVyIC50YWJzIGxpJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkbWV0YWJveCA9ICRidG4uY2xvc2VzdCggJy5sbG1zLW1iLWNvbnRhaW5lcicgKSxcblx0XHRcdFx0XHR0YWJfaWQgPSAkYnRuLmF0dHIoICdkYXRhLXRhYicgKTtcblxuXHRcdFx0XHQkYnRuLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblxuXHRcdFx0XHQkbWV0YWJveC5maW5kKCAnLnRhYi1jb250ZW50JyApLnJlbW92ZUNsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cblx0XHRcdFx0JGJ0bi5hZGRDbGFzcyggJ2xsbXMtYWN0aXZlJyApO1xuXHRcdFx0XHQkKCAnIycgKyB0YWJfaWQgKS5hZGRDbGFzcyggJ2xsbXMtYWN0aXZlJyApO1xuXG5cdFx0XHR9ICk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEVuYWJsZSBXUCBQb3N0IFRhYmxlIHNlYXJjaGVzIGZvciBhcHBsaWNhYmxlIHNlbGVjdDIgYm94ZXNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjIxLjBcblx0XHQgKi9cblx0XHR0aGlzLnBvc3Rfc2VsZWN0ID0gZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdFx0dmFyIG11bHRpID0gJ211bHRpcGxlJyA9PT0gJGVsLmF0dHIoICdtdWx0aXBsZScgKTtcblxuXHRcdFx0JGVsLmxsbXNQb3N0c1NlbGVjdDIoIHtcblx0XHRcdFx0d2lkdGg6IG11bHRpID8gJzEwMCUnIDogJzY1JScsXG5cdFx0XHR9ICk7XG5cblx0XHRcdGlmICggbXVsdGkgfHwgJGVsLmF0dHIoICdkYXRhLW5vLXZpZXctYnV0dG9uJyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFkZCBhIFwiVmlld1wiIGJ1dHRvbiB0byBzZWUgd2hhdCB0aGUgc2VsZWN0ZWQgcGFnZSBsb29rcyBsaWtlXG5cdFx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1ZpZXcnICksXG5cdFx0XHRcdCRidG4gPSAkKCAnPGEgY2xhc3M9XCJsbG1zLWJ1dHRvbi1zZWNvbmRhcnkgc21hbGxcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OjVweDtcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiI1wiPicgKyAgbXNnICsgJyA8aSBjbGFzcz1cImZhIGZhLWV4dGVybmFsLWxpbmtcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9hPicgKTtcblx0XHRcdCRlbC5uZXh0KCAnLnNlbGVjdDInICkuYWZ0ZXIoICRidG4gKTtcblxuXHRcdFx0JGVsLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpZCA9ICQoIHRoaXMgKS52YWwoKTtcblx0XHRcdFx0aWYgKCBpZCApIHtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdocmVmJywgJy8/cD0nICsgaWQgKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGJ0bi5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZG9tIGV2ZW50cyBmb3IgLmxsbXMtdGFibGVzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfdGFibGVzID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoICcubGxtcy10YWJsZSBidXR0b25bbmFtZT1cImxsbXMtZXhwYW5kLXRhYmxlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkdGFibGUgPSAkYnRuLmNsb3Nlc3QoICcubGxtcy10YWJsZScgKVxuXG5cdFx0XHRcdC8vIHN3aXRjaCB0aGUgdGV4dCBvbiB0aGUgYnV0dG9uIGlmIGFsdCB0ZXh0IGlzIGZvdW5kXG5cdFx0XHRcdGlmICggJGJ0bi5hdHRyKCAnZGF0YS10ZXh0JyApICkge1xuXHRcdFx0XHRcdHZhciB0ZXh0ID0gJGJ0bi50ZXh0KCk7XG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCAkYnRuLmF0dHIoICdkYXRhLXRleHQnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLXRleHQnLCB0ZXh0ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBzd2l0Y2ggY2xhc3NlcyBvbiBhbGwgZXhwYW5kYWJsZSBlbGVtZW50c1xuXHRcdFx0XHQkdGFibGUuZmluZCggJy5leHBhbmRhYmxlJyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdjbG9zZWQnICkgKSB7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoICdvcGVuZWQnICkucmVtb3ZlQ2xhc3MoICdjbG9zZWQnICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggJ2Nsb3NlZCcgKS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0Ly8gZ29cblx0XHR0aGlzLmluaXQoKTtcblxuXHR9O1xuXG5cdC8vIGluaXRhbGl6ZSB0aGUgb2JqZWN0XG5cdHdpbmRvdy5sbG1zLm1ldGFib3hlcyA9IG5ldyBNZXRhYm94ZXMoKTtcblxufSApKCBqUXVlcnkgKTtcbiJdfQ==
